---
layout: post
title:  "接口隔离原则"
categories: 软件架构设计
tags: Spring内功心法
author: Gzw
---
## 接口隔离原则(Interface Segregation Principle)
接口隔离原则：使用多个隔离的接口，比要使用单个接口要好。   
原定义：客户端不应该依赖它不需要的接口；一个类对另一个类的依赖应该建立在最小的接口上。  
问题：  
类A通过接口E依赖类B，类C通过接口E依赖类D，如果接口对于类A和类C来说不是最小接口（即类A和类C只需要接口E中一部分方法），则类B和类D必须去实现他们不需要的方法。
![](https://gitee.com/gzwas/noteimage/raw/master/img/20210129103459.png)
接口过于臃肿，要对接口进行拆分：
![](https://gitee.com/gzwas/noteimage/raw/master/img/20210129103625.png)
接口隔离含义：建立单一接口，不要建立庞大臃肿的接口，尽量细化接口，接口中的方法尽量少。  
单一职责和接口隔离的区别：  
* 单一职责原则原注重的是职责；而接口隔离原则注重对接口依赖的隔离。
* 单一职责原则主要是约束类，其次才是接口和方法，它针对的是程序中的实现和细节；而接口隔离原则主要约束接口，主要针对抽象，针对程序整体框架的构建。  
采用接口隔离原则对接口进行约束时，要注意以下几点：  
* 接口尽量小，但是要有限度。对接口进行细化可以提高程序设计灵活性是不挣的事实，但是如果过小，则会造成接口数量过多，使设计复杂化。所以一定要适度。
* 为依赖接口的类定制服务，只暴露给调用的类它需要的方法，它不需要的方法则隐藏起来。只有专注地为一个模块提供定制服务，才能建立最小的依赖关系。
* 提高内聚，减少对外交互。使接口用最少的方法去完成最多的事情。 
